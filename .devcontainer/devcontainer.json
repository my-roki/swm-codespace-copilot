{
  "name": "DevContainer",

  "build": {
    // 컨테이너 기본 이미지 설정
    "dockerfile": "./Dockerfile",
    "context": ".",
    "args": {
      "VARIANT": "7.0"
    }
  },

  "forwardPorts": [
    // 포트 포워딩
    3000, 5000, 5001, 8080, 44380
  ],

  "features": {
    // 추가 기능
    // Azure CLI
    "ghcr.io/devcontainers/features/azure-cli:latest": {
      "version": "latest"
    },

    // GitHub CLI
    "ghcr.io/devcontainers/features/github-cli:latest": {
      "version": "latest"
    },

    // node.js
    "ghcr.io/devcontainers/features/node:latest": {
      "version": "lts",
      "nodeGypDependencies": true,
      "nvmInstallPath": "/usr/local/share/nvm"
    },

    // common utilities
    "ghcr.io/devcontainers/features/common-utils:latest": {
      "installZsh": true,
      "installOhMyZsh": true,
      "upgradePackages": true,
      "username": "vscode",
      "uid": "1000",
      "gid": "1000"
    }
  },

  "overrideFeatureInstallOrder": [
    // 추가 기능 설치 순서
    "ghcr.io/devcontainers/features/common-utils"
  ],

  "customizations": {
    "vscode": {
      // 코드스페이스 커스터마이징
      "extensions": [
        // VS Code 익스텐션
        // GitHub 코파일럿 관련
        "GitHub.copilot",
        "GitHub.copilot-labs",

        // C# 관련
        "ms-dotnettools.vscode-dotnet-pack",
        "kreativ-software.csharpextensions",

        // Azure 관련
        "ms-vscode.vscode-node-azure-pack",
        "ms-azuretools.vscode-bicep"
      ],

      "settings": {
        // VS Code 환경 설정
        // Theme
        "workbench.colorTheme": "Atom One Dark",
        "workbench.iconTheme": "material-icon-theme",

        // Font
        "terminal.integrated.fontFamily": "HackNerdFontComplete-Regular",
        "editor.fontFamily": "D2Coding",
        "editor.fontSize": 14,

        // Terminal Setting
        "terminal.integrated.cursorStyle": "underline",
        "terminal.integrated.cursorBlinking": true,
        "workbench.colorCustomizations": {
          "terminalCursor.background": "#E0E0E0",
          "terminalCursor.foreground": "#E0E0E0",
          "terminal.ansiBlack": "#666666",
          "terminal.ansiBlue": "#5c78ff",
          "terminal.ansiCyan": "#5ac8ff",
          "terminal.ansiGreen": "#905aff",
          "terminal.ansiMagenta": "#5ea2ff",
          "terminal.ansiRed": "#ba5aff",
          "terminal.ansiWhite": "#ffffff",
          "terminal.ansiYellow": "#657b83",
          "terminal.ansiBrightBlack": "#121212",
          "terminal.ansiBrightBlue": "#2b4fff",
          "terminal.ansiBrightCyan": "#28b9ff",
          "terminal.ansiBrightGreen": "#7129ff",
          "terminal.ansiBrightMagenta": "#2883ff",
          "terminal.ansiBrightRed": "#a52aff",
          "terminal.ansiBrightWhite": "#f1f1f1",
          "terminal.ansiBrightYellow": "#3d2aff"
        },

        // Editor format
        "editor.defaultFormatter": "esbenp.prettier-vscode",
        "editor.rulers": [120],
        "prettier.printWidth": 120,
        "[python]": {
          "editor.defaultFormatter": null,
          "editor.formatOnType": true
        },
        "python.formatting.provider": "black",
        "python.formatting.blackArgs": ["--line-length", "120"],

        // ETC
        "cSpell.userWords": ["roki"],
        "cSpell.includeRegExpList": ["comments"],
        "liveServer.settings.donotVerifyTags": true,
        "editor.inlineSuggest.enabled": true,
        "gitlens.gitCommands.skipConfirmations": [
          "fetch:command",
          "stash-push:command"
        ],

        "explorer.sortOrder": "type"
      }
    }
  },

  // post-create.sh 스크립트 실행 명령어
  "postCreateCommand": "/bin/bash ./.devcontainer/post-create.sh > ~/post-create.log",

  // DevContainer 사용자 계정
  "remoteUser": "vscode"
}
